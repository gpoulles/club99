
<main>
  <div class="container mx-auto h-screen flex flex-col justify-center items-center">
    @if(calculations.length){
    <mat-card class="min-w-96">
    <mat-card-content>
    <div class="flex justify-between items-center">
  <button mat-icon-button color="primary" (click)="reset(true)"><mat-icon>chevron_left</mat-icon></button>
  <app-countdown (duration)="setCurrentDuration($event)"></app-countdown>
  <div class="text-slate-600">{{outOf()}}</div>
</div>

      <app-calculator [calculation]="calculations[index]" [results]="results" [outOf]="outOf()" (nextCalculation)="addResult($event)" (cancel)="reset($event)" [progress]="progress" ></app-calculator>
      </mat-card-content>
    </mat-card>
    }@else if(!calculations.length && results.length){
      <app-results [results]="results" (back)="reset($event)"></app-results>
    }
    @else {
    <div class="grid grid-cols-3 gap-4">
    <mat-card>
      <mat-card-header>
    <mat-card-title>Random Calulations</mat-card-title>
    </mat-card-header>
    <mat-card-content>
    <div class="grid grid-cols-2 mt-4 gap-4">
      <button mat-raised-button color="primary" (click)="restart('addition')">Start +</button>
      <button mat-raised-button color="primary" (click)="restart('subtraction')">Start -</button>
      <button mat-raised-button color="primary" (click)="restart('multiplication')">Start ร</button>
      <button mat-raised-button color="primary" (click)="restart('division')" disabled>Start รท</button>
    </div>
    </mat-card-content>
    </mat-card>
    <mat-card>
    <mat-card-header>
    <mat-card-title>Math Tables</mat-card-title>
    </mat-card-header>
    <mat-card-content>
    <div class="grid grid-cols-3 mt-4 gap-4">
      @for(mathIndex of mathTables; track mathIndex){
    <button mat-raised-button color="primary" (click)="startMathTable(mathIndex)">{{mathIndex}} Table</button>
    }
    </div>
    <mat-slide-toggle [(ngModel)]="randomMath" class="mt-4">Random</mat-slide-toggle>
    </mat-card-content>
    </mat-card>
    <mat-card>
    <mat-card-header>
    <mat-card-title>Club 99</mat-card-title></mat-card-header>
    <mat-card-content>
    <div class="grid grid-cols-3 mt-4 gap-4" >
      @for(clubIndex of club; track clubIndex){
    <button mat-raised-button color="primary" (click)="startClub(clubIndex)">{{clubIndex}} Club</button>
    }
    </div>
    </mat-card-content>
    </mat-card>
    </div>
    }
  </div>
</main>
<router-outlet />
